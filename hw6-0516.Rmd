---
title: "1928-1969??“ï?Œå?å?’éº»?—º?œ¨ç¾å?‹å?„å?ç?„ç™¼??Ÿç?‡è?Šå??"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

#è³‡æ?™å?è?•ç??

??Šè?‡æ?™è?€?€²ä??
```{r}
polio<-read.csv("POLIO_Incidence.csv",stringsAsFactors = F)
head(polio)

```
## 

å°‡å¯¬è¡¨æ ¼è½‰æ?é•·è¡¨æ ¼

```{r}
#install.packages("reshape")
library(reshape)
polio.m<-melt(polio,id.vars = c('YEAR','WEEK'))
head(polio.m)
```
##

??•ç?†ç¼º?€?

```{r}
polio.m[polio.m$value=="-",]$value<-NA #??•ç?†ç¼º?€?,å°?"-"è½‰ç‚ºNA
polio.m$value<-as.numeric(as.character(polio.m$value)) #å°‡valueæ¬„ä?è?‰ç‚º?•¸å­?
```
##

è¨ˆç?—å¹´åº¦ç™¼??Ÿç??

```{r}
polio.sumYear<- #??„å?å?„å¹´åº¦å? ç¸½ï¼Œè?ˆç?—è©²å¹´åº¦??„ç¸½?™¼??Ÿç??
    aggregate(value~YEAR+variable,data=polio.m,FUN=sum,na.rm=F)
head(polio.sumYear)

```

#è¦–è¦º??–å?ˆç¾
è§???‹é¸??‡å?–å½¢ç¨®é?ï?šæ?ƒé¸??‡Heatmap??„å?Ÿå? æ˜¯ä»–å¯ä»¥ç”¨ä»¥XYè»¸è?‡æ–¹? ¼é¡è‰²å®Œæ•´??ˆç¾ä¸‰å€‹ç¶­åº?(å¹´ä»½?€å?„å?ã€ç™¼??Ÿç??)??„è?Šé?ä¸­å½¼æ­¤??„è?Šå?–å?Šç›¸??œæ€?

ç¨‹å?ç¢¼ï¼šæ?‘ä»¥å¹´ä»½ä½œç‚ºXè»¸ç?„è?Šé?ï?Œè€ŒYè»¸ä?œç‚ºç¾å?‹ç?„æ?€??‰æ´²??„å?ç¨±ï¼Œæ?å€‹æ–¹? ¼?”¨ä¾†é¡¯ç¤ºä?å?„å¹´ä»½å?Šå?„å?å?å?’éº»?—º??„ç™¼??Ÿç?‡ç?„å? ç¸½ï¼Œä¸¦å°‡å?å?’éº»?—º??„ç™¼??Ÿç?‡ä»¥?™½?‰²?‡³ç´«è‰²?”±å°åˆ°å¤§é¡¯ç¤ºåœ¨æ¯ä?€?€‹æ–¹? ¼ä¸­ï?Œä¸¦ä¸”åœ¨1955å¹´ä¸­?•«?‡ºYè»¸ç?„è?›ç?šã€?

??–å½¢??ˆç¾ï¼?
```{r}
#install.packages("ggplot2")
library(ggplot2)
ggplot(polio.sumYear, aes(YEAR, variable)) + #aes(x,y)
    geom_tile(aes(fill = value),colour = "white")+
  geom_vline(xintercept = 1955,colour="black", linetype = "longdash")+ #geom_tile: ??€å¡Šè?—è‰²
    scale_fill_gradient(low = "white",high = "purple") #?•¸?€¼ä?ï?šç™½?‰²
```



??–å½¢è§???‹ï?šåœ¨Heatmap??„å?–å½¢ä¸­ç‚º1928?‡³1969å¹´é?“å?å?’éº»?—º??„ç™¼??Ÿç?‡è?Šå?–ï?Œæ?‘ä»¥å¹´ä»½ä½œç‚ºXè»¸ç?„è?Šé?ï?Œè€ŒYè»¸ä?œç‚ºç¾å?‹ç?„æ?€??‰æ´²??„å?ç¨±ï¼Œæ?å€‹æ–¹? ¼?”¨ä¾†é¡¯ç¤ºä?å?„å¹´ä»½å?Šå?„å?å?å?’éº»?—º??„ç™¼??Ÿç?‡ç?„å? ç¸½ï¼Œä¸¦å°‡å?å?’éº»?—º??„ç™¼??Ÿç?‡ä»¥?™½?‰²?‡³ç´«è‰²?”±å°åˆ°å¤§é¡¯ç¤ºåœ¨æ¯ä?€?€‹æ–¹? ¼ä¸­ï?Œå¯??‹å‡º1930å¹´å?Œå?å?’éº»?—º?™¼??Ÿç?‡é€æ¼¸ä¸Šå?‡ï?Œè‡³1950å¹´å·¦?³?ˆ°??”ä?†å?”å³°ï¼Œè€Œæ?‘åœ¨1955å¹´ä¸­?•«?‡ºYè»¸ç?„è?›ç?šï?Œç”±æ­¤å¯??‹å‡º1955å¹´å??(å°å?’éº»?—º?–«??—å‡º?¾)ç´«è‰²?–¹? ¼è®Šå?‘è¡¨ç¤ºå?å?’éº»è¾¦ç?„ç™¼??Ÿç?‡æ?é¡¯é©Ÿæ?›ç?„è¶¨?‹¢ï¼Œæ?å³?–«??—ç?„å‡º?¾??å?Ÿé?ä?å?å?’éº»?—º??„ç™¼??Ÿç??